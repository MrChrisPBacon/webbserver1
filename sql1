"SQL1"
CREATE SCHEMA mindatabas;

"SQL2"
CREATE TABLE personal
(
personalID INT NOT NULL AUTO_INCREMENT, 
fornamn VARCHAR(15),
efternamn VARCHAR(15),
lon INT,
kontor VARCHAR(15),
PRIMARY KEY (personalID)
)
  
"SQL3"
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Wred", 15, "Uppsala");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Bred", 20, "Uppsala");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Benrik", "Wred", 25, "Uppsala");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Wred", 15, "Stockholm");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Bred", 20, "Stockholm");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Wred", 15, "Malmö");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Bred", 20, "Malmö");

"SQL4"
SELECT * FROM mindatabas.personal WHERE kontor = "UPPSALA";

"SQL5"
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Wred", 15, "Luleå");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Henrik", "Bred", 20, "Luleå");
INSERT INTO mindatabas.personal (fornamn, efternamn, lon, kontor) VALUES ("Benrik", "Wred", 25, "Luleå");

"SQL6"
SELECT * FROM mindatabas.personal WHERE lon > 30000;

"SQL7"
SET SQL_SAFE_UPDATES = 0;
UPDATE personal
SET kontor = 'Helsingborg'
WHERE kontor = 'Malmö'

"SQL8"
SELECT * FROM mindatabas.personal WHERE kontor = 'Uppsala' or kontor = 'Stockholm';

"SQL9"
DELETE FROM personal
WHERE kontor = 'Stockholm'

"SQL10"
SELECT * FROM mindatabas.personal
ORDER BY kontor
  
"SQL11"
SELECT * FROM mindatabas.personal
ORDER BY efternamn DESC

"SQL12"
SELECT DISTINCT kontor FROM mindatabas.personal

"SQL13"

"SQL14"
SELECT COUNT(fornamn) AS "Antal Anställda" FROM mindatabas.personal	

"SQL15"
SELECT AVG(lon) AS "Avg Lön" FROM mindatabas.personal	

"SQL16"
SELECT MAX(lon) FROM mindatabas.personal

"SQL17"
SELECT MIN(lon) FROM mindatabas.personal

"SQL18"
SELECT 
(SELECT AVG(lon) FROM mindatabas.personal WHERE kontor="Uppsala") AS "Uppsala",
(SELECT AVG(lon) FROM mindatabas.personal WHERE kontor="Helsingborg") AS "Helsingborg",
(SELECT AVG(lon) FROM mindatabas.personal WHERE kontor="Luleå") AS "Luleå" 

"SQL19"
SELECT COUNT(fornamn) FROM mindatabas.personal WHERE kontor="Uppsala"

"SQL20"
CREATE TABLE kontor
(
kontorID INT NOT NULL AUTO_INCREMENT, 
kontor VARCHAR(15),
PRIMARY KEY (kontorID)
)
ALTER TABLE personal
ADD COLUMN kontorID int AFTER kontor
UPDATE personal SET kontorID=1 WHERE kontor="Uppsala"
UPDATE personal SET kontorID=2 WHERE kontor="Helsingborg"
UPDATE personal SET kontorID=3 WHERE kontor="Luleå"
INSERT INTO mindatabas.kontor (kontor) VALUES ("Uppsala")
INSERT INTO mindatabas.kontor (kontor) VALUES ("Helsingborg")
INSERT INTO mindatabas.kontor (kontor) VALUES ("Luleå")
ALTER TABLE personal
DROP COLUMN kontor

"SQL21"
SELECT personal.personalID, personal.fornamn, personal.efternamn, personal.lon, kontor.kontor FROM personal
INNER JOIN kontor
ON personal.kontorID = kontor.kontorID

"SQL22"
CREATE TABLE kommentar
(
kommentarID INT NOT NULL AUTO_INCREMENT, 
kommentar VARCHAR(100),
personalID INT,
PRIMARY KEY (kommentarID),
FOREIGN KEY (personalID) REFERENCES personal(personalID)
)
INSERT INTO mindatabas.kommentar (kommentar, personalID) VALUES ("Effektiv", 1)
INSERT INTO mindatabas.kommentar (kommentar, personalID) VALUES ("Inte Effektiv", 2)

"SQL23"
SELECT personal.personalID, personal.fornamn, personal.efternamn, kommentar.kommentar FROM personal
INNER JOIN kommentar
ON personal.personalID = kommentar.kommentarID

"SQL24"
SELECT * FROM personal
WHERE lon = (SELECT MAX(lon) FROM personal);

"SQL25"
SELECT * FROM personal
WHERE lon = (SELECT MIN(lon) FROM personal);

"SQL26"
SELECT * FROM personal
WHERE lon < (SELECT AVG(lon) FROM personal);

"SQL27"
SELECT * FROM personal
WHERE lon > (SELECT AVG(lon) FROM personal);

